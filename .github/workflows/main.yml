# .github/workflows/notion-sync.yml
name: Sync commits to Notion
on: [push]

jobs:
  notion_sync:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
        with: { fetch-depth: 0 }

      - name: Send commit info to Notion
        # ⬇️  Pin to the last 1.0 tag — no token, no file list, no toggles
        uses: alessandrobelli/NotionHook@v1
        with:
          notion_secret:   ${{ secrets.NOTION_SECRET }}
          notion_database: ${{ secrets.NOTION_DATABASE }}

          # Map GitHub → Notion columns (case-sensitive):
          commit_description: "Description"   # rich-text or title
          commit_url:        "Url"            # URL property
          commit_id:         "Id"             # text
          commit_project:    "Project"        # multi-select
